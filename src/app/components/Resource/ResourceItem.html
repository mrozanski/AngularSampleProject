<div class="panel panel-default resource-item">
  <div class="panel-heading">
    <h3 class="h4">{{ $ctrl.resourceItem.title }}</h3>
  </div>
  <div class="panel-body">
    <p ng-show="$ctrl.resourceItem.author">
      <strong>Author:</strong>
      {{ $ctrl.resourceItem.author}}
    </p>
    <p ng-show="$ctrl.resourceItem.url">
      <strong>URL:</strong>
      <a
        target="_blank"
        href="{{ $ctrl.resourceItem.url }}"
        title="Opens in new tab"
        >
       {{ $ctrl.resourceItem.url | limitTo: 40 }}{{ $ctrl.resourceItem.url.length > 40 ? '...' : ''}}
        <span class="glyphicon glyphicon-new-window"></span
      ></a>
    </p>

    <button
      type="button"
      class="btn btn-xs btn-make-editable"
      ng-class="{'btn-primary': !$ctrl.editable, 'btn-danger': $ctrl.editable}"
      ng-click="$ctrl.editable = !$ctrl.editable">
      <span class="glyphicon glyphicon-pencil"></span>
      &nbsp; 
      {{ $ctrl.editable ? 'Cancel' : 'Edit' }}
    </button>

    <form ng-show="$ctrl.editable" ng-submit="$ctrl.saveItem()" class="form-in-place">
      <div class="form-group">
        <label class="label-in-place" for="title">Title</label>
        <input type="text" id="title" ng-model="$ctrl.tempModel.title" class="input-in-place" />
      </div>
      <div class="form-group">
        <label class="label-in-place" for="url">URL</label>
        <input type="text" id="url" ng-model="$ctrl.tempModel.url" class="input-in-place" />
      </div>
      <div class="form-group">
        <label class="label-in-place" for="author">Author</label>
        <input type="text" id="author" ng-model="$ctrl.tempModel.author" class="input-in-place" />
      </div>
      <div class="form-group">
        <input type="submit" class="btn btn-success btn-xs" value="Save" />
      </div>
    </form>
  </div>
</div>
